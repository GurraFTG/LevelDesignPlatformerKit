[gd_scene load_steps=29 format=3 uid="uid://bqqgyqafm7xwp"]

[ext_resource type="Environment" uid="uid://bqnqgflivjvue" path="res://scenes/main-environment.tres" id="1_ahusb"]
[ext_resource type="PackedScene" uid="uid://dl2ed4gkybggf" path="res://objects/player.tscn" id="2_onms2"]
[ext_resource type="PackedScene" uid="uid://dhxok27jxvik8" path="res://objects/flag.tscn" id="4_els00"]
[ext_resource type="PackedScene" uid="uid://cxea8lmw7cy1l" path="res://objects/player_kill_volume.tscn" id="4_mddkv"]
[ext_resource type="Script" path="res://scripts/view.gd" id="5_bg0fr"]
[ext_resource type="PackedScene" uid="uid://bprrlrsrodjse" path="res://objects/saw.tscn" id="6_ocbvf"]
[ext_resource type="PackedScene" uid="uid://uqr4hswv6d2g" path="res://objects/platform_grass_large_round.tscn" id="8_4oh1e"]
[ext_resource type="PackedScene" uid="uid://dppaaoqj1t6n5" path="res://objects/spike_block.tscn" id="8_6aidc"]
[ext_resource type="Script" path="res://scripts/hud.gd" id="11_apvpm"]
[ext_resource type="PackedScene" uid="uid://cjgfjucbpxtlj" path="res://models/props/ladder.glb" id="13_boikr"]
[ext_resource type="Texture2D" uid="uid://cd7oyc56ehkx1" path="res://sprites/coin.png" id="13_jfda3"]
[ext_resource type="PackedScene" uid="uid://cyvet7kb6y80r" path="res://objects/checkpoint.tscn" id="14_iy7eg"]
[ext_resource type="FontFile" uid="uid://d0cxd77jybrcn" path="res://fonts/lilita_one_regular.ttf" id="17_tk810"]
[ext_resource type="PackedScene" uid="uid://cg87xovds8fk" path="res://Assets/wall_2.tscn" id="18_anm0v"]
[ext_resource type="PackedScene" uid="uid://c4al3isu2lmrb" path="res://Assets/fence_straight_2.tscn" id="19_e0bb4"]
[ext_resource type="Theme" uid="uid://d3avl0mr4r87l" path="res://themes/default_theme.tres" id="22_ntxd1"]
[ext_resource type="PackedScene" uid="uid://c1iq0crwya0gv" path="res://Assets/platform_fortified_2.tscn" id="23_afw46"]
[ext_resource type="PackedScene" uid="uid://cdc2olj3qoiw1" path="res://Assets/block_grass_overhang_large_slope_2.tscn" id="23_fym2t"]
[ext_resource type="Texture2D" uid="uid://dm50aa4qogm65" path="res://sprites/button_rectangle_depth_gloss.png" id="23_iywmg"]
[ext_resource type="PackedScene" uid="uid://baa7alv7xvd48" path="res://Assets/platform_overhang_2.tscn" id="23_trdv3"]
[ext_resource type="PackedScene" uid="uid://b83tbxtafao1o" path="res://Assets/ladder_long_2.tscn" id="24_uh4r0"]
[ext_resource type="LabelSettings" uid="uid://daohhjonjrdx8" path="res://themes/label_settings.tres" id="25_q0fwy"]
[ext_resource type="PackedScene" uid="uid://dwvhgrcyestak" path="res://objects/trap_spikes.tscn" id="27_g6u48"]
[ext_resource type="PackedScene" uid="uid://dpo3dr26b06w3" path="res://objects/spike_block_wide.tscn" id="27_h58tg"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_u8ojw"]
auto_exposure_scale = 0.75
dof_blur_far_distance = 0.01

[sub_resource type="LabelSettings" id="LabelSettings_ri8jt"]
font = ExtResource("17_tk810")
font_size = 128
shadow_color = Color(0, 0, 0, 0.376471)
shadow_offset = Vector2(2, 2)

[sub_resource type="LabelSettings" id="LabelSettings_x4d2s"]
font = ExtResource("17_tk810")
font_size = 32
shadow_color = Color(0, 0, 0, 0.376471)
shadow_offset = Vector2(2, 2)

[sub_resource type="LabelSettings" id="LabelSettings_v6r7m"]
font = ExtResource("17_tk810")
font_size = 42
shadow_color = Color(0, 0, 0, 0.376471)
shadow_offset = Vector2(2, 2)

[node name="Main" type="Node3D"]

[node name="Environment" type="WorldEnvironment" parent="."]
unique_name_in_owner = true
environment = ExtResource("1_ahusb")
camera_attributes = SubResource("CameraAttributesPractical_u8ojw")

[node name="Player" parent="." node_paths=PackedStringArray("view") instance=ExtResource("2_onms2")]
transform = Transform3D(-0.582449, 0, -0.812867, 0, 1, 0, 0.812867, 0, -0.582449, -1.07211, 0.092869, 5.27995)
view = NodePath("../View")

[node name="View" type="Node3D" parent="." node_paths=PackedStringArray("target") groups=["View"]]
process_mode = 3
transform = Transform3D(0.707107, -0.298836, 0.640856, 0, 0.906308, 0.422618, -0.707107, -0.298836, 0.640856, 0, 0, 0)
script = ExtResource("5_bg0fr")
target = NodePath("../Player")

[node name="Camera" type="Camera3D" parent="View"]
transform = Transform3D(0.99993, -0.01185, -0.00022012, 0.011724, 0.99168, -0.128195, 0.00173736, 0.128183, 0.99175, 0, 9.53674e-07, 10)
current = true
fov = 40.0

[node name="World" type="Node3D" parent="."]

[node name="flag" parent="World" instance=ExtResource("4_els00")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 0, 3.48077, -6)

[node name="saw" parent="World" instance=ExtResource("6_ocbvf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.44356, 0.5, 6.32878)

[node name="spike-block-wide" parent="World" instance=ExtResource("27_h58tg")]
transform = Transform3D(-0.0395622, -0.461558, 0.883723, 1.26021, 0.0998907, 0.087658, -0.165131, 0.872905, 0.457247, -19.3522, 2.26148, 1.50164)

[node name="spike-block" parent="World" instance=ExtResource("8_6aidc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.18682, 0.875, 6.193)

[node name="trap-spikes" parent="World" instance=ExtResource("27_g6u48")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.26464, 1.15957, 6.32124)

[node name="player_kill_volume" parent="World" instance=ExtResource("4_mddkv")]

[node name="checkpoint" parent="World" instance=ExtResource("14_iy7eg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.09268, 1.5, 4.60072)

[node name="checkpoint2" parent="World" instance=ExtResource("14_iy7eg")]
transform = Transform3D(0.642818, 0, 0.238079, 0, 0.655404, 0, -0.238079, 0, 0.642818, -29.9653, 0.465456, 7.73863)

[node name="fence-straight2" parent="World" instance=ExtResource("19_e0bb4")]
transform = Transform3D(1.30134, -2.6198, -0.0948633, -0.0469538, -0.129185, 2.92351, -2.6211, -1.29838, -0.0994687, -14.9726, -0.0968107, 2.35368)

[node name="fence-straight2" parent="World/fence-straight2" instance=ExtResource("19_e0bb4")]
transform = Transform3D(1.38497, -0.040418, 0.0281282, 0.0383011, 1.38174, 0.0995372, -0.030948, -0.0986972, 1.38198, 2.60044, -2.13759, 0.0676945)

[node name="fence-straight2" parent="World/fence-straight2/fence-straight2" instance=ExtResource("19_e0bb4")]
transform = Transform3D(0.0654906, -0.783588, -0.0371982, 0.779598, 0.0691637, -0.0844081, 0.0872888, -0.0298172, 0.781776, 0.194831, 0.987238, 0.436749)

[node name="ladder2" parent="World/fence-straight2/fence-straight2" instance=ExtResource("13_boikr")]
transform = Transform3D(0.246422, 0.00654638, -0.00430782, -0.00484724, 0.0208432, -0.245616, -0.00615758, 0.245577, 0.0209612, -1.57953, 1.80205, 0.400023)

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.422618, -0.694272, 0.582563, 0, 0.642788, 0.766044, -0.906308, 0.323744, -0.271654, 0, 0, 0)
shadow_enabled = true
shadow_opacity = 0.75

[node name="HUD" type="CanvasLayer" parent="." groups=["HUD"]]
process_mode = 3
script = ExtResource("11_apvpm")

[node name="Control" type="Control" parent="HUD"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Icon" type="TextureRect" parent="HUD/Control"]
layout_mode = 0
offset_left = 57.0
offset_top = 67.0
offset_right = 313.0
offset_bottom = 323.0
scale = Vector2(0.2, 0.2)
texture = ExtResource("13_jfda3")

[node name="x" type="Label" parent="HUD/Control"]
layout_mode = 0
offset_left = 112.0
offset_top = 64.0
offset_right = 144.0
offset_bottom = 123.0
text = "Ã—"
label_settings = ExtResource("25_q0fwy")

[node name="Level Complete" type="Label" parent="HUD/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -429.0
offset_top = 139.0
offset_right = 429.0
offset_bottom = 287.0
grow_horizontal = 2
text = "Level Complete!"
label_settings = SubResource("LabelSettings_ri8jt")

[node name="CoinsLabel" type="Label" parent="HUD/Control"]
unique_name_in_owner = true
layout_mode = 0
offset_left = 144.0
offset_top = 64.0
offset_right = 368.0
offset_bottom = 123.0
text = "0"
label_settings = ExtResource("25_q0fwy")

[node name="PlayAgainButton" type="Button" parent="HUD/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -196.0
offset_top = -258.0
offset_right = 196.0
offset_bottom = -122.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 0
theme = ExtResource("22_ntxd1")
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_constants/outline_size = 2
theme_override_fonts/font = ExtResource("17_tk810")
theme_override_font_sizes/font_size = 60
text = "Play Again?"
icon = ExtResource("23_iywmg")
flat = true
icon_alignment = 1

[node name="TimeLabel" type="Label" parent="HUD/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -48.5
offset_top = 59.0
offset_right = 48.5
offset_bottom = 115.0
grow_horizontal = 2
text = "00"
label_settings = SubResource("LabelSettings_x4d2s")
horizontal_alignment = 1
vertical_alignment = 1

[node name="TimeNameLabel" type="Label" parent="HUD/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -49.0
offset_top = 22.0
offset_right = 49.0
offset_bottom = 78.0
grow_horizontal = 2
text = "TIME"
label_settings = SubResource("LabelSettings_v6r7m")
horizontal_alignment = 1
vertical_alignment = 1

[node name="wall3" parent="." instance=ExtResource("18_anm0v")]
transform = Transform3D(5.43553, -1.05032, 6.09736, 1.29086, 8.13002, 0.249715, -6.05101, 0.79089, 5.53044, -1.51205, -0.209915, -0.58877)

[node name="wall3" parent="wall3" instance=ExtResource("18_anm0v")]
transform = Transform3D(1.2614, -0.209527, 0.245831, 0.205658, 1.28513, 0.0400801, -0.249077, -7.45058e-09, 1.27805, -0.0672053, -0.00847632, -1.0391)

[node name="wall3" parent="wall3/wall3" instance=ExtResource("18_anm0v")]
transform = Transform3D(1.27965, -0.197069, 0.138309, 0.190164, 1.28607, 0.0730285, -0.147659, -0.0515699, 1.29267, -0.0672052, -0.00847635, -1.0391)

[node name="wall4" parent="wall3/wall3" instance=ExtResource("18_anm0v")]
transform = Transform3D(1.54024, 0.697014, 0.128189, -0.690874, 1.54508, -0.100099, -0.15797, 0.0386995, 1.68764, -1.16419, 0.046375, -1.0801)

[node name="wall4" parent="wall3/wall3/wall4" instance=ExtResource("18_anm0v")]
transform = Transform3D(0.152075, 0.978328, 0.259546, -0.640613, 0.240116, 0.0320454, -0.0191068, -0.26389, 0.991379, -0.473145, 0.417027, -0.855868)

[node name="wall4" parent="wall3/wall3/wall4/wall4" instance=ExtResource("18_anm0v")]
transform = Transform3D(0.155746, 0.0357357, 0.00734631, -0.0282934, 0.165294, -0.0310156, -0.019222, 0.0462479, 0.105176, 0.143333, 0.0937358, 0.787239)

[node name="wall4" parent="wall3/wall3/wall4/wall4/wall4" instance=ExtResource("18_anm0v")]
transform = Transform3D(0.365346, 1.59446, -0.0366315, -1.45108, 0.400836, -0.0190271, -0.0138056, 0.0640772, 1.03053, 0.0607725, 0.147551, -0.00913429)

[node name="wall5" parent="wall3/wall3" instance=ExtResource("18_anm0v")]
transform = Transform3D(1.42713, 0.26898, -1.0454, -0.34761, 1.75515, -0.0229417, 1.02195, 0.221378, 1.45207, -2.1455, 0.526747, -1.41301)

[node name="platform-grass-large-round" parent="." instance=ExtResource("8_4oh1e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.847174, -0.568607, 4.33667)

[node name="fence-straight2" parent="." instance=ExtResource("19_e0bb4")]
transform = Transform3D(-1.11752, -3.03066, 0.351911, 1.28492, -0.12758, 2.98166, -2.76726, 1.16465, 1.24236, -1.0757, -0.861347, 1.14154)

[node name="fence-straight3" parent="." instance=ExtResource("19_e0bb4")]
transform = Transform3D(1.78949, 1.70305, -0.0499076, 0.152551, -0.0880696, 2.46458, 1.69694, -1.78802, -0.168929, -4.15657, 0.0453994, -0.329929)

[node name="platform-fortified3" parent="." instance=ExtResource("23_afw46")]
transform = Transform3D(0.864722, 0, -0.50225, 0, 1, 0, 0.50225, 0, 0.864722, -15.5671, 0.0960369, -0.469316)

[node name="platform-fortified3" parent="platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(0.947701, 0.230832, 0.22041, -0.112696, 0.888128, -0.445565, -0.298603, 0.397422, 0.867694, -1.60021, 0.426789, -5.75783)

[node name="platform-fortified3" parent="platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(0.983099, 0.155805, -0.0961329, -0.181911, 0.772179, -0.608809, -0.0206236, 0.616006, 0.787472, -1.17677, 1.12704, -0.243392)

[node name="platform-overhang2" parent="." instance=ExtResource("23_trdv3")]
transform = Transform3D(0.917609, 0, -0.397484, 0, 1, 0, 0.397484, 0, 0.917609, -18.2593, 1.45068, 3.02637)

[node name="platform-overhang2" parent="platform-overhang2" instance=ExtResource("23_trdv3")]
transform = Transform3D(0.999983, 0, 0.00581202, 0, 1, 0, -0.00581202, 0, 0.999983, -3.32493, -0.0873415, -0.137135)

[node name="platform-overhang2" parent="platform-overhang2/platform-overhang2" instance=ExtResource("23_trdv3")]
transform = Transform3D(0.999267, 0, -0.0382831, 0, 1, 0, 0.0382831, 0, 0.999267, -2.50359, 1.15878, -0.358026)

[node name="platform-overhang2" parent="platform-overhang2/platform-overhang2/platform-overhang2" instance=ExtResource("23_trdv3")]
transform = Transform3D(0.998421, 0, -0.0561875, 0, 1, 0, 0.0561875, 0, 0.998421, -0.188122, -3.2041, 0.316131)

[node name="block-grass-overhang-large-slope2" parent="." instance=ExtResource("23_fym2t")]
transform = Transform3D(0.968448, 0, -0.407505, 0, 1.07158, 0, 0.449066, 0, 0.878819, -26.6491, 2.10837, -1.49586)

[node name="platform-fortified2" parent="." instance=ExtResource("23_afw46")]
transform = Transform3D(0.358352, 0, -0.933587, 0, 1, 0, 0.933587, 0, 0.358352, -30.3367, 0.258772, 8.26059)

[node name="platform-fortified2" parent="platform-fortified2" instance=ExtResource("23_afw46")]
transform = Transform3D(-0.999938, 0, 0.0111874, 0, 1, 0, -0.0111874, 0, -0.999938, -0.982763, -0.00866008, 0.00384521)

[node name="platform-fortified3" parent="platform-fortified2" instance=ExtResource("23_afw46")]
transform = Transform3D(0.999911, 0, -0.0133688, 0, 1, 0, 0.0133688, 0, 0.999911, 0.00960255, 0.00168395, -1.00689)

[node name="platform-fortified2" parent="platform-fortified2/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(-0.999938, 0, 0.0111874, 0, 1, 0, -0.0111874, 0, -0.999938, -0.982763, -0.00866008, 0.00384521)

[node name="platform-fortified3" parent="platform-fortified2/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(0.999977, 0.000982732, 0.00685434, -0.00509161, -0.566562, 0.824003, 0.00469297, -0.824018, -0.566544, -0.0255742, -0.235836, -0.0557861)

[node name="platform-fortified2" parent="platform-fortified2/platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(-0.999938, 0, 0.0111874, 0, 1, 0, -0.0111874, 0, -0.999938, -0.982763, -0.00866008, 0.00384521)

[node name="platform-fortified3" parent="platform-fortified2/platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(0.999732, 0.00138608, 0.023161, -0.00155997, 0.999971, 0.00749054, -0.0231498, -0.00752433, 0.999705, 0.0170035, -0.0223103, -0.979492)

[node name="platform-fortified2" parent="platform-fortified2/platform-fortified3/platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(-0.999938, 0, 0.0111874, 0, 1, 0, -0.0111874, 0, -0.999938, -0.982763, -0.00866008, 0.00384521)

[node name="platform-fortified3" parent="platform-fortified2/platform-fortified3/platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(0.999732, 0.00138611, 0.0231611, -0.00155997, 0.999971, 0.00749055, -0.0231498, -0.00752433, 0.999705, 0.0164132, -0.0187569, -0.977026)

[node name="platform-fortified2" parent="platform-fortified2/platform-fortified3/platform-fortified3/platform-fortified3/platform-fortified3" instance=ExtResource("23_afw46")]
transform = Transform3D(-0.999938, 0, 0.0111874, 0, 1, 0, -0.0111874, 0, -0.999938, -0.982763, -0.00866008, 0.00384521)

[node name="ladder-long2" parent="." instance=ExtResource("24_uh4r0")]
transform = Transform3D(1.27943, 0.445189, -0.131597, 0.0468477, 0.307884, 1.3281, 0.420675, -1.38828, 0.252337, -29.6397, 0.360699, 6.69734)

[node name="ladder-long2" parent="ladder-long2" instance=ExtResource("24_uh4r0")]
transform = Transform3D(-0.999857, 0.0103306, 0.0134183, 0.00973043, 0.998983, -0.0440514, -0.01386, -0.0439152, -0.99894, 0.00258255, 1.94901, 0.016346)

[node name="ladder-long2" parent="ladder-long2/ladder-long2" instance=ExtResource("24_uh4r0")]
transform = Transform3D(-0.999857, 0.0103306, 0.0134183, 0.00973043, 0.998983, -0.0440514, -0.01386, -0.0439152, -0.99894, 0.00258255, 1.94901, 0.016346)

[node name="ladder-long2" parent="ladder-long2/ladder-long2/ladder-long2" instance=ExtResource("24_uh4r0")]
transform = Transform3D(-0.999539, 0.00100571, 0.0303611, -0.00181741, 0.995682, -0.092815, -0.0303236, -0.092828, -0.995221, 0.00258446, 1.94901, 0.016346)

[node name="platform-fortified4" parent="." instance=ExtResource("23_afw46")]
transform = Transform3D(0.482549, 0, -0.875869, 0, 1, 0, 0.875869, 0, 0.482549, -32.067, 1.90107, 5.19458)

[node name="s" parent="." instance=ExtResource("24_uh4r0")]
transform = Transform3D(1.05262, -0.415036, 0.399661, 0.0146823, 0.851413, 0.845496, -0.575993, -0.736767, 0.751924, -30.9318, 0.368973, 6.9919)

[node name="block-grass-overhang-large-slope4" parent="." instance=ExtResource("23_fym2t")]
transform = Transform3D(0.851956, 0.368413, 0.37208, -0.407047, 0.912977, 0.0280424, -0.32937, -0.175345, 0.927777, -32.8223, 2.70787, 3.29379)

[node name="wall2" parent="." instance=ExtResource("18_anm0v")]
transform = Transform3D(5.67464, 0.685571, 0.518618, -3.62698, 1.24639, 0.0561055, -2.01449, -0.312878, 1.35989, -33.2483, 1.45992, 3.4305)

[connection signal="coin_collected" from="Player" to="HUD" method="_on_coin_collected"]
[connection signal="reached_goal" from="Player" to="HUD" method="_on_player_reached_goal"]
[connection signal="pressed" from="HUD/Control/PlayAgainButton" to="HUD" method="_on_play_again_button_pressed"]
